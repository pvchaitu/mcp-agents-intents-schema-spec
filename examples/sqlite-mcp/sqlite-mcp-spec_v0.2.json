{
  "openmcpspec": "0.2",
  "info": {
    "title": "SQLite Database Context Server",
    "version": "1.0.0",
    "description": "A comprehensive MCP server specification for mcp-server-sqlite, providing tools for connection management, full schema introspection, and both read-only and modifying SQL execution (CRUD/DDL)."
  },
  "server": {
    "name": "sqlite",
    "description": "The mcp-server-sqlite server.",
    "protocol": "http",
    "hostname": "localhost",
    "port": 8080,
    "base_path": "/api/v1/sqlite",
    "command": "uvx",
    "args": [
      "mcp-server-sqlite"
    ],
    "endpoints": []
  },
  "intents": [
    {
      "name": "connect_database",
      "description": "Establishes a connection to a specific SQLite database file, optionally setting an alias for future reference.",
      "category": "Connection Management",
      "parameters": {
        "type": "object",
        "properties": {
          "path": {
            "type": "string",
            "description": "The absolute file path to the SQLite database file (e.g., '/home/user/data/mydatabase.db')."
          },
          "alias": {
            "type": "string",
            "description": "An optional, user-friendly name to reference this connection (defaults to the file name)."
          },
          "readonly": {
            "type": "boolean",
            "description": "If true, the connection is opened in read-only mode."
          }
        },
        "required": [
          "path"
        ]
      },
      "responses": {
        "success": {
          "schema": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "A confirmation message including the connection's assigned alias."
              }
            }
          }
        }
      },
      "metadata": {
        "roles": ["database_admin", "llm_executor"],
        "nlp_hints": [
          "connect to database [alias]",
          "open the database file [path]",
          "initialize database connection"
        ]
      }
    },
    {
      "name": "close_connection",
      "description": "Closes the connection to a specific SQLite database, freeing up the resource.",
      "category": "Connection Management",
      "parameters": {
        "type": "object",
        "properties": {
          "database_alias": {
            "type": "string",
            "description": "The alias of the connected database to close."
          }
        },
        "required": [
          "database_alias"
        ]
      },
      "responses": {
        "success": {
          "schema": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "A confirmation that the connection has been successfully closed."
              }
            }
          }
        }
      },
      "metadata": {
        "nlp_hints": [
          "disconnect from database",
          "close database connection",
          "terminate connection"
        ]
      }
    },
    {
      "name": "get_catalog",
      "description": "Retrieves a comprehensive catalog of the database, including all tables, views, and their full column definitions in a single call.",
      "category": "Schema Introspection",
      "parameters": {
        "type": "object",
        "properties": {
          "database_alias": {
            "type": "string",
            "description": "The alias of the connected database."
          }
        },
        "required": [
          "database_alias"
        ]
      },
      "responses": {
        "success": {
          "schema": {
            "type": "object",
            "properties": {
              "catalog_data": {
                "type": "string",
                "description": "A JSON or string representation of the complete database schema catalog."
              }
            }
          }
        }
      },
      "metadata": {
        "roles": ["schema_extractor", "llm_agent"],
        "nlp_hints": [
          "what tables are available",
          "show me the database schema",
          "list all columns",
          "database structure"
        ]
      }
    },
    {
      "name": "get_table_info",
      "description": "Retrieves detailed information about a specific table, including its schema, indexes, row count, and a small sample of data.",
      "category": "Schema Introspection",
      "parameters": {
        "type": "object",
        "properties": {
          "database_alias": {
            "type": "string",
            "description": "The alias of the connected database."
          },
          "table_name": {
            "type": "string",
            "description": "The name of the table to analyze."
          },
          "sample_rows": {
            "type": "integer",
            "description": "Optional: The number of sample rows to return (default: 5)."
          }
        },
        "required": [
          "database_alias",
          "table_name"
        ]
      },
      "responses": {
        "success": {
          "schema": {
            "type": "object",
            "properties": {
              "table_data": {
                "type": "string",
                "description": "A structured output containing schema, row count, and sample data for the table."
              }
            }
          }
        }
      },
      "metadata": {
        "nlp_hints": [
          "what are the columns in [table_name]",
          "show me sample data from [table_name]",
          "how many rows in [table_name]"
        ]
      }
    },
    {
      "name": "execute_read_query",
      "description": "Executes a read-only SQL SELECT query. This intent is safe for retrieving data without modification.",
      "category": "Data Retrieval",
      "parameters": {
        "type": "object",
        "properties": {
          "database_alias": {
            "type": "string",
            "description": "The alias of the connected database."
          },
          "query": {
            "type": "string",
            "description": "The SQL SELECT query to be executed. MUST be valid SQLite."
          },
          "limit": {
            "type": "integer",
            "description": "Optional: Maximum number of rows to return (default: 100)."
          }
        },
        "required": [
          "database_alias",
          "query"
        ]
      },
      "responses": {
        "success": {
          "schema": {
            "type": "object",
            "properties": {
              "query_results": {
                "type": "string",
                "description": "The results of the query, formatted as a JSON array."
              }
            }
          }
        }
      },
      "metadata": {
        "roles": ["data_analyst", "sql_executor"],
        "nlp_hints": [
          "query for data",
          "fetch records",
          "get information from table",
          "show me [X] from [Y] table",
          "retrieve data"
        ]
      }
    },
    {
      "name": "execute_write_query",
      "description": "Executes a modifying SQL query (INSERT, UPDATE, DELETE, or DDL like CREATE TABLE/DROP TABLE). Use with caution.",
      "category": "Data Modification",
      "parameters": {
        "type": "object",
        "properties": {
          "database_alias": {
            "type": "string",
            "description": "The alias of the connected database."
          },
          "query": {
            "type": "string",
            "description": "The modifying SQL query (e.g., INSERT INTO..., UPDATE..., DELETE FROM..., CREATE TABLE...)."
          }
        },
        "required": [
          "database_alias",
          "query"
        ]
      },
      "responses": {
        "success": {
          "schema": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "A confirmation message indicating success and the number of rows affected."
              }
            }
          }
        }
      },
      "metadata": {
        "security": ["write_permission"],
        "nlp_hints": [
          "insert data into [table]",
          "update records",
          "delete from [table]",
          "create a table"
        ]
      }
    },
    {
      "name": "create_view",
      "description": "Creates a new SQL view based on a SELECT query, which can be useful for simplifying complex data retrieval for the AI or external services.",
      "category": "Schema Modification",
      "parameters": {
        "type": "object",
        "properties": {
          "database_alias": {
            "type": "string",
            "description": "The alias of the connected database."
          },
          "view_name": {
            "type": "string",
            "description": "The name to assign to the new view."
          },
          "query": {
            "type": "string",
            "description": "The SQL SELECT query that defines the view's data."
          },
          "description": {
            "type": "string",
            "description": "An optional description of the view's purpose for context."
          }
        },
        "required": [
          "database_alias",
          "view_name",
          "query"
        ]
      },
      "responses": {
        "success": {
          "schema": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "description": "Confirmation of the view creation."
              }
            }
          }
        }
      },
      "metadata": {
        "nlp_hints": [
          "create a shortcut view for [query]",
          "define a virtual table",
          "make a SQL view"
        ]
      }
    }
  ],
  "enumeration": {
    "enabled": true,
    "filters": {
      "categories": ["Connection Management", "Schema Introspection", "Data Retrieval", "Data Modification", "Schema Modification"],
      "roles": ["llm_executor", "sql_agent", "data_analyst"],
      "deprecated": false
    },
    "versioning": {
      "schema_version": "0.2",
      "compatibility": "full",
      "migration_paths": []
    },
    "capability_tags": ["sqlite", "sql", "data_access", "tool_use"],
    "intent_groups": ["data_retrieval_and_modification"]
  },
  "lifecycle": {
    "changelog": [
      "v1.0.0: Initial release with connection and full CRUD support.",
      "v1.0.1: Added `get_table_info` intent for detailed schema exploration.",
      "v1.0.2: Converted to OpenMCPSpec v0.2 array format with `metadata` for ACI improvement."
    ],
    "compatibility": "fully backward-compatible with v1.0.0 tool implementations"
  },
  "testing": {
    "validation_cases": [
      "connect_database with non-existent path should return error",
      "execute_read_query with correct SQL should return JSON array",
      "execute_write_query should report rows affected"
    ],
    "conformance_tests": ["sqlite_sql_syntax_compliance", "readonly_mode_enforcement"]
  },
  "analytics": {
    "logging": true,
    "metrics": ["latency_ms", "intent_success_rate", "llm_query_accuracy_score"],
    "trace_id_support": true,
    "usage_quota": 100000,
    "latency_sla_ms": 500
  }
}