{
  "openmcpspec": "2.0.0",
  "info": {
    "title": "MCP Docs Server",
    "version": "1.0.0",
    "description": "Production-grade MCP server exposing intents for documentation search and retrieval with governance, lifecycle, and observability."
  },
  "server": {
    "name": "docs-mcp",
    "hostname": "docs.mcp.org",
    "port": 443,
    "protocol": "https",
    "base_path": "/api",
    "endpoints": [
      "https://docs.mcp.org/api/intents",
      "https://docs.mcp.org/api/enumerate"
    ]
  },
  "intents": [
    {
      "name": "searchDocs",
      "description": "Search documentation by keyword or phrase.",
      "category": "documentation",
      "parameters": [
        {
          "name": "query",
          "type": "string",
          "required": true,
          "description": "Search term or phrase",
          "pattern": "^[a-zA-Z0-9\\s]+$",
          "pii": false,
          "gdpr_sensitive": false
        },
        {
          "name": "limit",
          "type": "integer",
          "default": 10,
          "description": "Max results to return",
          "minimum": 1,
          "maximum": 100
        }
      ],
      "responses": {
        "success": {
          "schema": { "results": "array<object>" },
          "examples": [
            { "results": [{ "title": "Quickstart Guide", "url": "https://docs.mcp.org/quickstart" }] }
          ]
        },
        "error": {
          "schema": { "code": "string", "message": "string" },
          "codes": ["SERVER_ERROR", "INVALID_QUERY"],
          "recovery_hints": ["Retry with simpler query", "Check server availability"],
          "standardized": true
        }
      },
      "metadata": {
        "roles": ["user"],
        "security": ["none"],
        "nlp_hints": ["search", "lookup", "manual"],
        "version": "1.1",
        "deprecated": false,
        "sunset_date": "2026-12-31",
        "migration_hint": "Use advancedSearchDocs intent for richer queries",
        "rbac_scopes": ["docs.read"],
        "data_residency": "Global",
        "audit_hooks": ["intent_usage", "query_terms"]
      }
    },
    {
      "name": "getDoc",
      "description": "Retrieve a specific documentation page by ID.",
      "category": "documentation",
      "parameters": [
        {
          "name": "doc_id",
          "type": "string",
          "required": true,
          "description": "Unique document identifier",
          "pattern": "^doc-[0-9]+$",
          "pii": false,
          "gdpr_sensitive": false
        }
      ],
      "responses": {
        "success": {
          "schema": { "doc": "object" },
          "examples": [
            { "doc": { "id": "doc-123", "title": "Installation", "content": "Step 1: Download..." } }
          ]
        },
        "error": {
          "schema": { "code": "string", "message": "string" },
          "codes": ["NOT_FOUND", "SERVER_ERROR"],
          "recovery_hints": ["Verify doc_id format", "Check if document exists"],
          "standardized": true
        }
      },
      "metadata": {
        "roles": ["user"],
        "security": ["none"],
        "nlp_hints": ["open", "read", "manual"],
        "version": "1.0",
        "deprecated": false,
        "rbac_scopes": ["docs.read"],
        "data_residency": "EU",
        "audit_hooks": ["doc_access"]
      }
    }
  ],
  "enumeration": {
    "enabled": true,
    "filters": {
      "categories": ["documentation"],
      "roles": ["user"],
      "deprecated": false
    },
    "pagination": {
      "cursor": "cur-001",
      "limit": 50,
      "has_more": false
    },
    "versioning": {
      "schema_version": "2.0.0",
      "compatibility": ">=1.0",
      "migration_paths": ["searchDocs -> advancedSearchDocs"]
    },
    "capability_tags": ["search", "retrieval", "documentation"],
    "intent_groups": ["docs-basic", "docs-advanced"],
    "intents": [
      {
        "name": "searchDocs",
        "description": "Search documentation by keyword or phrase.",
        "category": "documentation",
        "version": "1.1",
        "deprecated": false
      },
      {
        "name": "getDoc",
        "description": "Retrieve a specific documentation page by ID.",
        "category": "documentation",
        "version": "1.0",
        "deprecated": false
      }
    ]
  },
  "lifecycle": {
    "changelog": [
      "Initial release with searchDocs and getDoc intents",
      "Added validation constraints and recovery hints"
    ],
    "compatibility": ">=0.9"
  },
  "testing": {
    "mock_data": { "query": "installation" },
    "validation_cases": ["empty query", "invalid doc_id"],
    "bdd_cases": [
      "Given a valid doc_id, When getDoc is called, Then return document content"
    ],
    "conformance_tests": [
      "searchDocs must reject queries with special characters",
      "getDoc must enforce doc_id pattern ^doc-[0-9]+$"
    ]
  },
  "analytics": {
    "logging": true,
    "metrics": ["intent_usage", "error_rate", "latency"],
    "monitoring_hooks": ["prometheus", "grafana"],
    "trace_id_support": true,
    "usage_quota": 1000,
    "latency_sla_ms": 200
  }
}
